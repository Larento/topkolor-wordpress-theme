/*
Theme Name: TOPKOLOR Theme
Author: Larik
Version: 0.6.4
License: GNU General Public License v2 or later
*/

/*---------------------------------------------
>>>	TABLE OF CONTENTS:
-----------------------------------------------
	0.	Imported Styles
	1. 	CSS Reset
	2.  Color Palette
	3.	Typography
	4.	Main Section Class
	5.	Header Class
	6.	Page Hero Class
	7.	Post Class
	8.	Commerce Class
	9.	Footer Class
	10.	Secondary Classes
	11.	Controls
	12.	Media Types
---------------------------------------------*/

/*---------------------------------------------
	0.	Imported Styles
---------------------------------------------*/
@import "assets/topkolor/css/slider";
@import "assets/topkolor/css/functions";
@import "assets/topkolor/css/portfolio-browser";
@import "assets/topkolor/css/dropdown-checkbox";

/*---------------------------------------------
	1.	Media Types
---------------------------------------------*/
/* #region */
$media-types: (
  xsmall: (
		min-width: 320px,
		max-width: 419px,
  ),
  small: (
		min-width: 420px,
		max-width: 767px,
  ),
  medium: (
		min-width: 768px,
		max-width: 1023px,
  ),
  large: (
		min-width: 1024px,
		max-width: 1441px,
  ),
);

@mixin breakpoint($size, $maxormin: 'max') {
	@if $maxormin != 'max' {
		$maxormin: 'min';
	}
	@media (max-width: map-deep-get($media-types, $size, "#{$maxormin}-width")) { @content; }
}
/* #endregion */

/*---------------------------------------------
	2.	CSS Reset
---------------------------------------------*/
/* #region */
html, body {
	border: none;
	margin: 0;
	padding: 0;
}

html {
	font-size: 106.25%;
}

body {
	min-height: 100vh;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

* {
	box-sizing: border-box;
}

h1, h2, h3, h4, h5, h6, p, blockquote, address,
big, cite, code, em, font, img, small, strike,
sub, sup, li, ol, ul, fieldset, form, label,
legend, button, table, caption, tr, th, td {
	border: none;
	font-size: inherit;
	line-height: inherit;
	margin: 0;
	padding: 0;
	text-align: inherit;
}

blockquote {
	&::before, &::after {
		content: "";
	}
}
/* #endregion */

/*---------------------------------------------
	2.	Color Palette
---------------------------------------------*/
/* #region */
:root {
	--background-main: rgb(245, 245, 245);
  --background-accent: rgb(var(--background-accent-triplet));
	--background-accent-triplet: 13, 27, 28;

	//--header-accent-triplet: 210, 216, 221;
	--header-accent-triplet: 235, 235, 235;
  --header-main: var(--background-accent);
  --header-accent: rgb(var(--header-accent-triplet));
	--header-heading: var(--text-light);
	--header-text: var(--header-main);

	--post-main: var(--background-main);
	--post-heading: var(--text-dark);
	--post-text: var(--text-dark);

	--commerce-main-2-triplet: 219, 224, 219;
	--commerce-main-1: rgba(var(--header-accent-triplet), 0.975);
  --commerce-main-2: var(--header-accent);
	--commerce-accent: var(--controls-contrast);
	--commerce-heading: var(--text-dark);
	--commerce-text: var(--text-dark);

	--footer-main: var(--background-accent);
	--footer-accent: var(--header-accent);
	--footer-text: var(--footer-heading);
	--footer-heading: var(--text-light);

	--text-light: rgb(250, 250, 250);
  --text-dark: rgb(36, 36, 36);

	--controls-triplet: 165, 187, 66;
  --controls-contrast: rgb(var(--controls-triplet));
}

body {
	background-color: var(--background-main);
	
}
/* #endregion */

/*---------------------------------------------
	3.	Typography
---------------------------------------------*/
/* #region */
$font-family-heading: 'Raleway', sans-serif;
$font-family-text: 'Nunito', sans-serif;

@mixin fa($name: 'solid') {
	@if $name == 'brand' {
		font-family: 'Font Awesome 5 Brands';
		font-weight: 400;
	} @else {
		font-family: 'Font Awesome 5 Free';
		font-weight: 900;
	}
}

body {
	font-family: $font-family-text;
}

$font-types: (
  mega: (
    font-size: min(4rem, 12vw),
		font-family: $font-family-heading,
		font-weight: 700,
		text-align: center,
	),
	headline: (
		font-size: min(3.25rem, 8vw),
		font-family: $font-family-heading,
		font-weight: 700,
		text-align: center,
	),
  title: (
    font-size: min(2.25rem, 7vw),
		font-family: $font-family-heading,
		font-weight: 700,
		text-align: center,
  ),
  subtitle: (
    font-size: min(1.25rem, 5vw),
		font-family: $font-family-heading,
		font-weight: 500,
		text-align: center,
  ),
  regular: (
    font-size: 1rem,
    font-weight: 400,
  ),
  secondary: (
    font-size: 0.9rem,
    font-weight: 400,
  ),
  link: (
    font-size: 0.8rem,
		font-weight: 400,
  ),
  caption: (
    font-size: 0.8rem,
    font-weight: 400,
  ),
);

@mixin font-type($font-type) {
	$type: map-get($font-types, $font-type);
	@each $key, $attribute in $type {
	  #{$key}: map-get($type, $key);
	}
}

h1 {@include font-type(mega);}
h2 {@include font-type(headline);}
h3 {@include font-type(title);}
h4 {@include font-type(subtitle);}
p {@include font-type(regular);}
/* #endregion */

/*---------------------------------------------
	11.	Controls
---------------------------------------------*/
/* #region */
:root
{
	--padding: 0.625rem;
	--transition-time: 100ms;
}

.tk-section
{
	a
	{
		--text: var(--text-color);
		--text-hover: var(--accent-color);
		--text-active: var(--text-hover);
		--bg: none;
		--bg-hover: none;
		--bg-active: var(--bg-hover);

		display: block;
		color: var(--text);
		background: var(--bg);

		@include font-type(link);
		text-decoration: none;

		transition-property: none;
		transition-duration: var(--transition-time);
		transition-timing-function: ease-out;
	
		&:hover,
		&:focus
		{
			color: var(--text-hover);
			background: var(--bg-hover);
		}
	
		&:active
		{
			color: var(--text-active);
			background: var(--bg-active);
		}
	
		&[data-icon-solid-before]::before {
			@include fa(solid);
			content: attr(data-icon-solid-before);
			padding-right: calc(0.75 * var(--padding));
		}
		
		&[data-icon-solid-after]::after 	{
			@include fa(solid);
			content: attr(data-icon-solid-after);
			padding-left: calc(0.75 * var(--padding));
		}
		
		&[data-icon-brand-before]::before {
			@include fa(brand);
			content: attr(data-icon-brand-before);
			padding-right: calc(0.75 * var(--padding));
		}
		
		&[data-icon-brand-after]::after {
			@include fa(brand);
			content: attr(data-icon-brand-after);
			padding-left: calc(0.75 * var(--padding));
		}
	
		&.no-text::after,
		&.no-text::before {
			padding: 0;
		} 
	}
}

.tk-section .no-text > a
{
	&::after,
	&::before
	{
		padding: 0;
	}
}

.tk-section a.tk-button
{
	padding: calc(1 * var(--padding));
	border-radius: 50px;
	@include font-type(link);
	height: max-content;
	width: max-content;
	text-align: center;

	&.bg-dark
	{
		--text: var(--controls-contrast);
		--text-hover: var(--text-dark);
		--bg: rgba(var(--controls-triplet), 0.15);
		--bg-hover: var(--text);
	}
	
	&.bg-light
	{
		--text: var(--header-main);
		--text-hover: var(--text-light);
		--bg: rgba(var(--background-accent-triplet), 0.2);
		--bg-hover: var(--text);
	}

	&.bg-dark.bg-img
	{
		--text: var(--text-dark);
		--bg: var(--controls-contrast);
		--text-hover: var(--text);
		--bg-hover: var(--bg);
	}

	&.bg-light.bg-img
	{
		--text: var(--text-light);
		--bg: var(--background-accent);
		--text-hover: var(--text);
		--bg-hover: var(--bg);
	}

	&.size-small
	{
		font-size: 0.75rem;
		padding-top: calc(0.6 * var(--padding));
		padding-bottom: calc(0.6 * var(--padding));
	}

	&.size-big
	{
		@include font-type(secondary);
		min-width: 8rem;
		padding: calc(1.2 * var(--padding));
		border-radius: 30px;
	}
}
/* #endregion */

/*---------------------------------------------
	4.	Main Section Class
---------------------------------------------*/
/* #region */
.tk-section {
	--main-color: teal;
	--accent-color: tomato;
	--text-color: var(--text-light);
	--heading-color: var(--text-light);
	display: block;
	background-color: var(--main-color);
	color: var(--text-color);
	margin: 0;
	padding: calc(2 * var(--padding));
	padding-top: 0;
	padding-bottom: 0;

	h1, h2, h3, h4, h5, h6 {
		color: var(--heading-color);
	}
}

.container {
	max-width: 1024px;
	margin: 0 auto;
	width: auto;
}
/* #endregion */

/*---------------------------------------------
	5.	Header Class
---------------------------------------------*/
/* #region */
$items-count: 9;
$transition-delay: 150;

.tk-section.header {
	--main-color: var(--header-main);
	--accent-color: var(--header-accent);
	--text-color: var(--header-text);
	--heading-color: var(--header-heading);
	position: sticky;
	top: 0px;
	z-index: 10;
	min-height: 55px;
	--radius: calc(0.5 * var(--padding));
}

.header .container {
	min-height: inherit;
}

.header a {
	text-decoration: none;
	display: flex;
	height: 100%;
	align-items: center;
	justify-content: center;
	padding: var(--padding);
	--text: var(--accent-color);
	--text-hover: var(--heading-color);
	cursor: pointer;

	@include breakpoint(medium) {
		padding-left: calc(0.5 * var(--padding));
		padding-right: calc(0.5 * var(--padding));
	}
}

.header .request {
	margin-top: auto;
	margin-bottom: auto;
}

.header .title > a {
	--text: var(--heading-color);
	--text-hover: var(--text);
	white-space: nowrap;
	text-transform: uppercase;
	justify-content: flex-start;
	@include font-type(subtitle);
	font-weight: 800;
	font-size: 1.6rem;

	@include breakpoint('medium') {
		width: 2rem;
		overflow: hidden;
	}

	background: linear-gradient(90deg, rgba(94,189,62,1) 0%,
						rgba(255,185,0,1) 20%, rgba(247,130,0,1) 40%,
						rgba(226,56,56,1) 60%, rgba(151,57,153,1) 80%,
						rgba(0,156,223,1) 100%);
	background-clip: text;
	-webkit-background-clip: text;
	background-size: 80% 100%;
	background-position-x: right;

	&.with-gradient:hover {
		--text-hover: none;
	}

	&::before {
		content: "      ";
		margin-right: var(--padding);
		background-image: var(--logo);
		background-size: cover;
		font-size: 1.6rem;	
	}
}

.header .search > a,
.header .login > a {
	font-size: 1.25rem;
}

.header .login > a::after {
	position: absolute;
	top: 110%;
	right: 0;
	display: block;
	opacity: 0;
	background-color: rgba(black, 0.85);
	border-radius: var(--padding);
	@include font-type(caption);
	padding: var(--padding);
	transform: scale(0);
	content: "Личный кабинет находится на стадии разработки";
	transition: opacity var(--transition-time) ease, transform var(--transition-time) ease-in;
	width: 200px;
}

.header .login > a:hover::after {
	opacity: 1;
	transform: scale(1);
}

.header .main-menu {
	min-height: inherit;
	display: flex;
	list-style: none;
	flex-direction: row;
	justify-content: space-between;
	flex-wrap: wrap;

	& > .menu-item {
		transform: scale(1);
		transition: transform 200ms ease-in-out, opacity 200ms ease-in-out;
		transform-origin: center center;
		
		@for $i from 1 to ($items-count + 1) {
			&:nth-child(#{$i}) {
				transition-delay: #{$transition-delay / $items-count * ($i - 1)}ms;
			}
		}
	
		&.hidden {
			transform: scale(0);
			opacity: 0;
			@for $i from 1 to ($items-count + 1) {
				&:nth-last-child(#{$i}) {
					transition-delay: #{$transition-delay / $items-count * ($i - 1)}ms;
				}
			}
		}
	}

	& > .menu-item:first-child a {
		padding-left: 0;
	}

	& > .menu-item:last-child a:not(.tk-button) {
		padding-right: 0;
	}

	& > .menu-item-has-children
	{
		& > a::after
		{
			content: "\f107";
			font-size: 10px;
			padding-left: calc(0.65 * var(--padding));
			//padding-top: calc(0.1 * var(--padding));
		}
		
		& > .sub-menu {
			left: 50%;
			transform: scale(0) translateX(-50%);

			& > .menu-item:first-child a::before
			{
				content: '';
				width: 0;
				height: 0;
				border-style: solid;
				--triangle_height: var(--padding);
				--triangle_width: calc(1.8 * var(--triangle_height));
				border-width: 0 calc(var(--triangle_width) / 2) var(--triangle_height) calc(var(--triangle_width) / 2);
				border-color: transparent transparent var(--accent-color) transparent; 
				margin: auto;
				position: absolute;
				bottom: 100%;
				left: 50%;
				transform: translateX(-50%);
			}

			& > .menu-item:first-child a:hover::before {
				border-color: transparent transparent var(--controls-contrast) transparent;
			}
		}
	}
}

.header .menu-item-has-children {
	position: relative;

	&:hover > .sub-menu {
		transform: scale(1) translateX(-50%);
		opacity: 1;
	}

	& > a::after {
		@include fa(solid);
		font-size: var(--padding);
	}
}

.header .main-menu > .menu-item-has-children > .sub-menu
{
	border-radius: 0 0 var(--radius) var(--radius);

	> .menu-item:last-child a
	{
		border-radius: 0 0 var(--radius) var(--radius);
	}
}

.header .sub-menu {
	list-style: none;
	opacity: 0;
	flex-direction: column;
	display: flex;
	position: absolute;
	width: 190px;
	box-shadow: 0 0 30px rgba(0, 0, 0, 0.2);

	> .menu-item:not(:last-child) a
	{
		border-bottom: 0.5px solid;
		border-left-width: 0;
		border-right-width: 0;
		border-top-width: 0;
		border-image: linear-gradient(to right, transparent 0% 5%, rgba(var(--background-accent-triplet), 0.2) 20% 80%, transparent 95% 100%) 1 stretch;
	}

	& .sub-menu {
		top: 0;
		left: 150%;
		transform: scale(0);
	}

	& .menu-item-has-children > a::after {
		content: "\f105";
	}
	
	& a {
		padding: calc(1.75 * var(--padding));
		padding-top: calc(1.2 * var(--padding));
		padding-bottom: calc(1.2 * var(--padding));
		--text: var(--text-color);
		--text-hover: var(--heading-color);
		--bg: var(--accent-color);
		--bg-hover: var(--controls-contrast);
		justify-content: space-between;
		text-align: left;
	}
}

.header .search-bar {
	position: absolute;
	top: 50%;
	left: 50%;
	display: flex;
	align-content: center;
	transform: translate(-50%,-50%);
	justify-content: space-between;
	opacity: 0;
	z-index: -1;
	transition: opacity 100ms ease-in;
	transition-delay: #{$transition-delay}ms;

	&.shown {
		opacity: 1;
		z-index: 10;
	}

	& > button {
		background: none;

		& > a {
			background: none;
			padding: var(--padding);
		}
	}
}

.search-form {
	display: flex;
	align-items: center;
	width: 40%;
	min-width: 250px;
	max-width: 80vw;
	height: 40px;
	justify-content: space-between;
	border-radius: var(--padding);
	border: solid 1px gray;
	

	& button {
		background: none;

		& > a {
			background: none;
			padding: var(--padding);
		}
	}

	& * {
		margin: 0;
	}
}

.search-field {
	border: none;
	height: 100%;
	width: 100%;
	background: none;
	@include font-type(caption);
	font-family: $font-family-text;

	&:focus {
		outline: none;
	}
}

.header .search-form {
	background: rgba(255,255,255,0.95);
	width: 500px;
	margin: auto;
	border: none;
	filter: brightness(0.7);
	transition: filter 100ms ease;

	&:focus-within {
		filter: brightness(1);
	}
}

.search-button-submit > a,
.search-button-empty > a {
	--text: gray;
	--text-hover: var(--text-dark);
	font-size: 1rem;
}

.header .search-button-close > a,
.header .search-button-dummy > a {
	font-size: 1.25rem;
	display: inline-block;
}

.header .search-button-dummy > a {
	color: transparent;
	cursor: default;
	transform: scale(0);
}
/* #endregion */

/*---------------------------------------------
	6.	Page Hero Class
---------------------------------------------*/
/* #region */
.tk-section.hero {
	overflow: hidden;
	position: relative;
	--main-color: var(--header-accent);
	--accent-color: var(--header-main);
	padding-top: calc(6 * var(--padding));
	padding-bottom: calc(6 * var(--padding));
	background: none;

	h1, h2, h3, h4, h5, h6 {
		opacity: 0.97;
		text-shadow: rgba(0, 0, 0, 0.15) 0 0 10px;
		text-align: left;
	}

	.subtitle {
		padding-top: 1rem;
		font-weight: 400;
	}
}

.hero a.tk-button {
	display: flex;
	justify-content: center;
	align-items: center;
	opacity: 0.97;
	white-space: nowrap;
	margin-left: calc(1.5 * var(--padding));
	margin-right: calc(1.5 * var(--padding));
	transition: 100ms ease-in;

	&:hover,
	&:active,
	&.active
	{
		//transform: translateY(10px);
	}

}

.hero .container.buttons {
	position: relative;
	right: 0;
	display: flex;
	flex-direction: row;
	justify-content: flex-end;
	margin-top: calc(4 * var(--padding));
	flex-wrap: wrap;

	.tk-button:first-child
	{
		margin-left: 0;
	}

	.tk-button:last-child
	{
		margin-right: 0;
	}
}

.hero .slide .container
{
	position: relative;
}

/* #endregion */

/*---------------------------------------------
	7.	Post Class
---------------------------------------------*/
/* #region */
.tk-section.post {
	--main-color: var(--post-main);
	--accent-color: var(--post-accent);
	--text-color: var(--post-text);
	--heading-color: var(--post-heading);

	&.document {
		max-width: 1024px;
		margin: auto;
		margin-top: calc(5 * var(--padding));
		margin-bottom: calc(5 * var(--padding));
		box-shadow: rgba(0, 0, 0, 0.45) 0 0 30px;
		padding-top: 4rem;
		padding-bottom: 4rem;

		.container{
			max-width: 80ch;
		}
	}

	h1, h2, h3, h4, h5, h6 {
		text-align: left;

		.container > & + p {
			margin-top: 0.5em;
		}
	}

	h4 {
		font-weight: 700;
	}

	p {
		line-height: 1.65;
	}

	.container > * + { 
		* {margin-top: 1.5em;}
		p {margin-top: 1em;}
	}
}

.post a:not(.no-text) {
	display: inline-block;
	//padding-left: 5px;
	@include font-type(secondary);
	--text: rgb(30, 95, 216);
	--text-hover: var(--text);
	font-weight: 600;

	&:hover {
		text-decoration: underline;
	}
}

.request-form div.radio-inputs {
	display: none;

	&.shown {
		display: block;
	}
}
/* #endregion */

/*---------------------------------------------
	8.	Commerce Class
---------------------------------------------*/
/* #region */
.tk-section.commerce
{
	position: relative;
	--main-color: var(--commerce-main-1);
	--accent-color: var(--commerce-accent);
	--text-color: var(--commerce-text);
	--heading-color: var(--commerce-heading);
	background: linear-gradient(0deg, var(--main-color) 10%, var(--commerce-main-2));
	padding-top: calc(6 * var(--padding));
	padding-bottom: calc(6 * var(--padding));

	&::before 
	{
		content: "";
		display: block;
		position: absolute;
		top: 0;
		left: 0;
		height: 100%;
		width: 100%;
		background-image: var(--background-image);
		background-position: center center;
		background-attachment: scroll;
		background-repeat: no-repeat;
		background-size: cover;
		z-index: -1;
	}
}

.commerce .container
{
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: space-between;

	.heading
	{
		margin-bottom: calc(4 * var(--padding));
	}

	.list-heading
	{
		text-align: left;
		margin-bottom: calc(2 * var(--padding));
	}
}

.commerce .container.lists
{
	width: 100%;
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	align-items: start;
	justify-content: center;
}

.commerce .list-wrapper
{
	width: 230px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: space-between;
	margin-bottom: calc(3 * var(--padding));
	margin-left: calc(1 * var(--padding));
	margin-right: calc(1 * var(--padding));

	& > a.icon
	{
		--text: var(--text-color);
		--text-hover: var(--text);
		font-size: 85px;
	}
}

.commerce .advantages-list
{
	list-style-position: inside;
	line-height: 1.65;
	@include font-type(secondary);
	opacity: 0.9;

	& li::marker
	{
		color: var(--accent-color);
	}

	& li:not(:last-child)
	{
		margin-bottom: calc(0.75 * var(--padding));
	}
}
/* #endregion */

/*---------------------------------------------
	9.	Footer Class
---------------------------------------------*/
/* #region */
.tk-section.footer {
	--main-color: var(--footer-main);
	--accent-color: var(--footer-accent);
	--text-color: lightgray;
	--heading-color: var(--footer-heading);
	padding-top: calc(2 * var(--padding));
	
	h1, h2, h3, h4, h5, h6 {
		text-align: left;
	}
}

.footer a {
	--text-hover: var(--heading-color);
	text-decoration: none;
	@include font-type(caption);
}

.footer .container {
	display: flex;
	flex-direction: row;
	justify-content: center;
	flex-wrap: wrap;
}

.footer nav {
	margin-bottom: calc(2 * var(--padding));
	width: 230px;
	margin-right: 20px;
}

.footer .main-menu {	
	margin-top: calc(1 * var(--padding));	
	display: grid;
	grid-row-gap: calc(0.75 * var(--padding));
	grid-column-gap: calc(1 * var(--padding));
	align-items: center;
	justify-items: start;
}

.footer .menu-item {
	list-style: none;
	@include font-type(link);
	&.simple-link a:hover {
		text-decoration: underline;
		--text-hover: var(--heading-color);
	}

	&.whatsapp
	{
		grid-column: 1 / -1;
		margin-top: calc(0.75 * var(--padding));
	}
}

.footer .footer-contact-navigation a{
	--text-hover: var(--text);
}

.footer .footer-contact-navigation .main-menu {
	grid-template-columns: min-content 1fr;
}

.footer .footer-social-navigation .main-menu {
	grid-template-columns: repeat(5, 1fr);

	& a {
		display: block;
		font-size: 1.68rem;
	}
}

.footer .copyright {
	@include font-type(caption);
	text-align: center;
	padding-bottom: calc(0.75 * var(--padding));
}
/* #endregion */

/*---------------------------------------------
	10.	Secondary Classes
---------------------------------------------*/
/* #region */
fieldset {
	border: solid 1px lightgray;
	padding: 10px;
}

.request-form > * + * {
	margin-top: 1em;
}
/* #endregion */


.debug {
	font-family: 'Courier New', Courier, monospace;
	color: white;
	font-size: 16px;
}
