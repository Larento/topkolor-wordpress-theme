/*
Theme Name: TOPKOLOR Theme
Author: Larik
Version: 0.1.8
GitHub Theme URI: https://github.com/Larento/topkolor-wordpress-theme
License: GNU General Public License v2 or later
*/

/*---------------------------------------------
>>>	TABLE OF CONTENTS:
-----------------------------------------------
	0.	Imported Styles
	1. 	CSS Reset
	2.  Color Palette
	3.	Typography
	4.	Main Section Class
	5.	Header Class
	6.	Page Hero Class
	7.	Post Class
	8.	Commerce Class
	9.	Footer Class
	10.	Secondary Classes
	11.	Controls
	12.	Media Types
---------------------------------------------*/

/*---------------------------------------------
	0.	Imported Styles
---------------------------------------------*/
@import "assets/css/auto-slideshow";
@import "assets/css/functions";

/*---------------------------------------------
	1.	CSS Reset
---------------------------------------------*/
html, body {
	border: none;
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
}

* {
	box-sizing: border-box;
}

h1, h2, h3, h4, h5, h6, p, blockquote, address,
big, cite, code, em, font, img, small, strike,
sub, sup, li, ol, ul, fieldset, form, label,
legend, button, table, caption, tr, th, td {
	border: none;
	font-size: inherit;
	line-height: inherit;
	margin: 0;
	padding: 0;
	text-align: inherit;
}

blockquote {
	&::before, &::after {
		content: "";
	}
}

/*---------------------------------------------
	2.	Color Palette
---------------------------------------------*/
:root {
	--header-heading: white;
	--header-text: var(--header-main);

	--post-main: var(--background-main);
	--post-heading: white;
	--post-text: white;

	--commerce-accent: var(--controls-contrast);
	--commerce-heading: white;
	--commerce-text: white;

	--footer-main: var(--background-accent);
	--footer-accent: var(--header-accent);
	--footer-text: var(--footer-accent);
	--footer-heading: white;
}

body {
	//--backgroundFill: none;				!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	//--backgroundStroke: 0.225rem; !!!NEEDS TO BE IMPLEMENTED AS INLINE SVG!!!
	//--backgroundOrnament: 1;			!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
	background-color: var(--background-main);
	background-image: url(https://tkolor.com/wp-content/uploads/2020/07/MainOrnamentNewDesign.svg);
	background-repeat: no-repeat;
	background-size: cover;
}

/*---------------------------------------------
	3.	Typography
---------------------------------------------*/
$font-family-heading: 'Raleway', sans-serif;
$font-family-text: 'Nunito', sans-serif;

@mixin fa($name: 'solid') {
	@if $name == 'brand' {
		font-family: 'Font Awesome 5 Brands';
		font-weight: 400;
	} @else {
		font-family: 'Font Awesome 5 Free';
		font-weight: 900;
	}
}

body {
	font-family: $font-family-text;
}

$font-types: (
  mega: (
    font-size: min(6.853rem, 10vw),
		font-family: $font-family-heading,
		font-weight: 700,
		text-align: center,
  ),
  title: (
    font-size: min(4.236rem, 5vw),
		font-family: $font-family-heading,
		font-weight: 600,
		text-align: center,
  ),
  subtitle: (
    font-size: 1.618rem,
		font-family: $font-family-heading,
		font-weight: 500,
		text-align: center,
  ),
  paragraph: (
    font-size: 1rem,
    font-weight: 400,
  ),
  secondary: (
    font-size: 0.9rem,
    font-weight: 400,
  ),
  button: (
    font-size: 0.85rem,
    font-weight: 400,
  ),
  link: (
    font-size: 0.85rem,
		font-weight: 400,
  ),
  caption: (
    font-size: 0.8rem,
    font-weight: 400,
  )
);

@mixin font-type($font-type) {
	$type: map-get($font-types, $font-type);
	@each $key, $attribute in $type {
	  #{$key}: map-get($type, $key);
	}
}

h1 {
	@include font-type(mega);
}

h2 {
	@include font-type(title);
}

h3 {
	@include font-type(subtitle);
}

p {
	@include font-type(paragraph);
}

h4 {
	@include font-type(secondary);
}
/*---------------------------------------------
	4.	Main Section Class
---------------------------------------------*/
:root {
	--padding: 0.625rem;
	--transition-time: 60ms;
}

.tk-section {
	display: block;
	background-color: teal;
	margin: 0;
	padding: calc(2 * var(--padding));
	padding-top: 0;
	padding-bottom: 0;
}

.container {
	max-width: 1280px;
	margin: 0 auto;
	width: auto;
}

/*---------------------------------------------
	5.	Header Class
---------------------------------------------*/
$items-count: 9;
$transition-delay: 150;

.tk-section.header {
	background-color: color(header, main);
	position: sticky;
	top: 0px;
}

.header .main-menu {
	display: flex;
	list-style: none;
	flex-direction: row;
	justify-content: space-between;
	flex-wrap: wrap;

	& > .menu-item {
		transform: scale(1);
		transition: transform 200ms ease-in-out, opacity 200ms ease-in-out;
		transform-origin: center center;
		
		@for $i from 1 to ($items-count + 1) {
			&:nth-child(#{$i}) {
				transition-delay: #{$transition-delay / $items-count * ($i - 1)}ms;
			}
		}
	
		&.hidden {
			transform: scale(0);
			opacity: 0;
			@for $i from 1 to ($items-count + 1) {
				&:nth-last-child(#{$i}) {
					transition-delay: #{$transition-delay / $items-count * ($i - 1)}ms;
				}
			}
		}
	}

	& > .menu-item:first-child a {
		padding-left: 0;
	}

	& > .menu-item:last-child a {
		padding-right: 0;
	}

	& > .menu-item-has-children {

		& > a::after {
			content: "\f078";
			padding-left: calc(var(--padding) / 2);
			padding-top: calc(var(--padding) / 6);
		}
		
		& > .sub-menu {
			top: calc(100% - var(--padding));
			left: 50%;
			transform: scale(0) translateX(-50%);

			&::before,
			& > .menu-item:first-child a::before {
				content: '';
				width: 0;
				height: 0;
				border-style: solid;
				--triangle_height: var(--padding);
				--triangle_width: calc(1.8 * var(--triangle_height));
				border-width: 0 calc(var(--triangle_width) / 2) var(--triangle_height) calc(var(--triangle_width) / 2);
				border-color: transparent transparent color(header, accent) transparent; 
				margin: auto;
				transition: border-color var(--transition-time) ease;
			}

			& > .menu-item:first-child a::before {
				position: absolute;
				top: 0;
				left: 50%;
				transform: translateX(-50%);
			}

			& > .menu-item:first-child a:hover::before {
				border-color: transparent transparent color(controls, contrast) transparent;
			}
		}
	}
}

.header .menu-item-has-children {
	position: relative;

	&:hover > .sub-menu {
		transform: scale(1) translateX(-50%);
		opacity: 1;
	}

	& > a::after {
		@include fa(solid);
		font-size: var(--padding);
	}
}

.header .sub-menu {
	list-style: none;
	opacity: 0;
	flex-direction: column;
	display: flex;
	position: absolute;
	transition: opacity var(--transition-time) ease-out;
	width: min(200px, 15vw);

	& .sub-menu {
		top: 0;
		left: 150%;
	}

	& .menu-item-has-children > a::after {
		content: "\f054";
	}
	
	& a {
		padding: calc(var(--padding) * 2);
		padding-top: calc(1.2 * var(--padding));
		padding-bottom: calc(1.2 * var(--padding));
		background-color: color(header, accent);
		color: color(header, main);
		justify-content: space-between;
		text-align: left;

		&:hover {
			background-color: color(controls, contrast);
		}
	}
}

.header .title > a {
	color: color(header, heading);
	white-space: nowrap;
	@include font-type(subtitle);
	font-weight: 800;
	font-size: 2rem;
	background: linear-gradient(90deg, rgba(94,189,62,1) 0%, rgba(255,185,0,1) 20%, rgba(247,130,0,1) 40%, rgba(226,56,56,1) 60%, rgba(151,57,153,1) 80%, rgba(0,156,223,1) 100%);
	background-clip: text;
	-webkit-background-clip: text;
	background-size: 80% 100%;
	background-position-x: right;

	&.with-gradient:hover {
		color: transparent;
	}

	&::before {
		content: " ";
		padding-right: 2rem;
		margin-right: var(--padding);
		color: transparent;
		background: url('https://tkolor.com/wp-content/uploads/2020/07/Main-Logo.svg') no-repeat;
	}
}

.header .search > a,
.header .login > a {
	font-size: 1.1rem;
	cursor: pointer;
}

.header .login > a::after {
	position: absolute;
	top: 110%;
	display: block;
	opacity: 0;
	background-color: rgba(black, 0.85);
	border-radius: 10px;
	@include font-type(caption);
	padding: var(--padding);
	transform: scale(0);
	content: "Личный кабинет находится на стадии разработки";
	transition: opacity 100ms ease, transform 100ms ease-in;
	width: 200px;
}

.header .login > a:hover::after {
	opacity: 1;
	transform: scale(1);
}

.header a {
	box-sizing: border-box;
	color: color(header, accent);
	@include font-type(link);
	text-decoration: none;
	display: flex;
	height: 100%;
	align-items: center;
	justify-content: center;
	padding: var(--padding);
	transition: background-color var(--transition-time) ease-out, color var(--transition-time) ease-out;

	&:hover {
		color: color(header, heading);
	}

	&[data-icon-solid-before]::before {
		@include fa(solid);
		content: attr(data-icon-solid-before); 
	}
	
	&[data-icon-solid-after]::after 	{
		@include fa(solid);
		content: attr(data-icon-solid-after);
	}
	
	&[data-icon-brand-before]::before {
		@include fa(brand);
		content: attr(data-icon-brand-before);
	}
	
	&[data-icon-brand-after]::after {
		@include fa(brand);
		content: attr(data-icon-brand-after);
	}
}

.header .search-bar {
	position: absolute;
	top: 50%;
	left: 50%;
	display: flex;
	z-index: 10;
	align-content: center;
	transform: translate(-50%,-50%);
	justify-content: space-between;
	width: max(35vw, 300px);
	opacity: 0;
	z-index: -1;
	transition: opacity 100ms ease-in;
	transition-delay: #{$transition-delay}ms;

	&.shown {
		opacity: 1;
		z-index: 10;
	}

	& button {
		background: none;

		& > a {
			background: none;
			padding: var(--padding);
		}
	}
}

.header .search-button-submit > a,
.header .search-button-empty > a {
	color: gray;
	font-size: 0.85rem;
	cursor: pointer;
	&:hover {
		color: color(text, dark);
	}
}

.header .search-button-close > a {
	font-size: 1.1rem;
	cursor: pointer;
}

.header .search-form {
	--radius: 10px;
	background: rgba(255,255,255,0.9);
	display: flex;
	align-items: center;
	width: inherit;
	margin-right: 10px;
	justify-content: space-between;
	padding-left: var(--radius);
	padding-right: var(--radius);
	border-radius: var(--radius);
	filter: brightness(0.7);
	transition: filter 100ms ease;

	&:focus-within {
		filter: brightness(1);
	}
	& *:first-child > a {
		padding-left: 0;
	}

	& *:last-child > a {
		padding-right: 0;
	}
}

.header .search-field {
	border: none;
	height: 100%;
	background: none;
	width: inherit;
	@include font-type(caption);

	&:focus {
		outline: none;
	}
}

/*---------------------------------------------
	6.	Page Hero Class
---------------------------------------------*/
.tk-section.hero {
	//background: none;
	background-color: inherit;
	padding: 0;
	display: grid;
}

.hero {
	background-color: color(controls, contrast);
	text-shadow: rgba(26,26,26,0.35) 0 0 20px;
	color: color(text, light);
}

/*---------------------------------------------
	7.	Post Class
---------------------------------------------*/
.postArea {
	color: var(--postHeading);
}

.postArea p,
.postArea span,
.postArea a,
.postArea li {
	color: var(--postText);
}

/*---------------------------------------------
	8.	Commerce Class
---------------------------------------------*/
.tk-section.commerce {
	background-color: lightskyblue;
}

.blockArea {
	text-align: center;
	color: var(--blockHeading);
}

.blockArea p,
.blockArea span,
.blockArea a,
.blockArea li {
	--minSize: 1.05em;
	text-align: left;
	color: var(--blockText);
}

/*---------------------------------------------
	9.	Footer Class
---------------------------------------------*/
.tk-section.footer {
	background-color: color(footer, main);
}


/*.footerText {
	text-align: left !important;
	color: var(--footerHeading) !important;
	margin: 0 !important;
	padding: 10px !important;
}
.footerText p {
	--minSize: 0.9em !important;
	color: var(--footerText) !important;
}
.footerLink a:hover{
	text-decoration: underline;
	color: var(--controlsContrast);
}
.footerCopyright {
	color: var(--footerText) !important;
	font-weight: 300 !important;
  text-align: center !important;
	margin: 0 !important;
	padding: 5px !important;
	padding-bottom: 25px !important;
}

/*---------------------------------------------
	10.	Secondary Classes
---------------------------------------------*/
.unclickable > a:hover {
  cursor: default;
}

/*---------------------------------------------
	11.	Controls
---------------------------------------------*/
:root {
	--animation: cubic-bezier(.33,.33,.57,.96);
}

/*---------------------------------------------
	12.	Media Types
---------------------------------------------*/
$media-types: (
  phone: (
		min-width: 0px,
		font-size: 0.9rem,
  ),
  phablet: (
		min-width: 600px,
		font-size: 0.95rem,
  ),
  tablet: (
		min-width: 960px,
		font-size: 1rem,
  ),
  laptop: (
		min-width: 1280px,
		font-size: 1.1rem,
  ),
  pc: (
		min-width: 1920px,
		font-size: 1.15rem
  )
);

@each $media-type, $attributes in $media-types {
	@media screen and (min-width: map-deep-get($media-types, $media-type, "min-width")) {
	  :root {
			$type: map-deep-get($media-types, $media-type);
			@each $key, $attribute in $type {
				@if $key != 'min-width' {
					#{$key}: map-get($type, $key);
				}
			}	
	  }
	}
}

:root {
	--media-max-width: 1440px;
}